<h1 id="prctica-de-laboratorio-5-pruebas-unitarias">Práctica de Laboratorio #5. Pruebas Unitarias</h1>

<h2 id="introduccin">Introducción</h2>

<p>Un número racional es un número con un numerador y un denominador de la forma <code>a/b</code>, </p>

<p><img src="assets/images/rational.jpeg" alt="" /></p>

<p>donde <code>a</code> es el numerador y <code>b</code> es el denominador.  Por ejemplo, <code>1/3</code>, <code>3/4</code> y <code>5/2</code>.</p>

<p>Un número racional no puede tener un cero como denominador, pero si se admite un cero como numerador.</p>

<p>Cada número entero a es equivalente al número racional <code>a/1</code>.</p>

<p>Los números racionales se utilizan en el cálculo exacto en el que intervienen fracciones. Por ejemplo, <code>1/3 = 0.33333...</code> no se puede representar de forma precisa utilizando el formato de punto flotante.  Para obtener resultados exactos, se deben utilizar entonces números racionales.</p>

<p>Los números racionales pueden ser equivalentes, por ejemplo, <code>1/3 = 2/6 = 3/9 = 4/12</code>. Por convenio, se utiliza un <code>1/3</code> para representar a todos los números racionales que son equivalentes a <code>1/3</code>.
El numerador y el denominador de <code>1/3</code> sólo tienen como divisor común al número 1, por lo tanto, se dice que <code>1/3</code> está reducida a su mínima expresión.</p>

<p>Para reducir un número racional a su mínima expresión, es necesario encontrar el máximo común divisor, de los valores absolutos de su numerador y denominador y dividir ambos por dicho valor.</p>

<p>Para calcular el maximo comun divisor de dos números puede usar el siguiente algoritmo:</p>

<pre><code>    def gcd(n, d):
        n1 = abs(n);
        n2 = abs(d)
        gcd = 1
        k = 1
        while k &lt;= n1 and k &lt;= n2:
            if n1 % k == 0 and n2 % k == 0:
                gcd = k
            k += 1
        return gcd
</code></pre>

<ol>
  <li>
    <p><em>El fichero gcd.rb contiene una implementación en Ruby del máximo</em>
común divisor. Haciendo uso del depurador de ruby detecte el error en el código.</p>

    <p>Para invocar al depurador, se ha de ejecutar: <code>ruby -rdebug gcd.rb</code>
 Una vez dentro de mismo:</p>

    <ul>
      <li>
        <p>Para pedir ayuda el comando es:</p>

        <pre><code>   (rdb:1) help
</code></pre>
      </li>
      <li>
        <p>Para listar el programa</p>

        <pre><code> (rdb:1) l
 [-4, 5] in gcd.rb
 =&gt; 1  def gcd(u, v)
 2    u, v = u.abs, v.abs
 3    while v == 0
 4      u, v = v, u % v
 5    end
</code></pre>
      </li>
      <li>
        <p>Para ejecutar la siguiente sentencia:</p>

        <pre><code> (rdb:1) n
</code></pre>
      </li>
      <li>
        <p>Para establecer un punto de ruptura (breakpoint):</p>

        <pre><code> (rdb:1) b 4
</code></pre>
      </li>
      <li>
        <p>Para ver dónde se está:</p>

        <pre><code> (rdb:1) w
</code></pre>
      </li>
    </ul>
  </li>
  <li>
    <p><em>Implemente una clase Ruby para representar los números racionales.</em></p>

    <p>Cada objeto debe representar un número racional reducido a su mínima expresión.
 Se han de implementar los métodos de instancia que se solicitan a continuación:</p>

    <ul>
      <li>
        <p><code>to_s</code>     #devuelve una cadena con la representación del racional</p>
      </li>
      <li>
        <p><code>suma</code>     #devuelve un nuevo racional que suma al objeto que invoca el que le pasan como parámetro</p>
      </li>
      <li>
        <p><code>resta</code>    #devuelve un nuevo racional que resta al objeto que invoca el que le pasan como parámetro </p>
      </li>
      <li>
        <p><code>producto</code> #devuelve un nuevo racional que multiplica al objeto que invoca el que le pasan como parámetro</p>
      </li>
      <li>
        <p><code>division</code> #devuelve un nuevo racional que multiplica al objeto que invoca el que le pasan como parámetro</p>
      </li>
    </ul>
  </li>
  <li>
    <p><em>Implemente un conjunto de <a href="http://en.wikibooks.org/wiki/Ruby_Programming/Unit_testing">Pruebas Unitarias</a> que permitan comprobar el correcto funcionamiento 
de la clase que implementa a los números racionales.</em></p>
  </li>
</ol>
